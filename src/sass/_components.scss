@use "./variables" as *;
@use "./mixins" as *;

.error-visible {
	display: flex !important;
	justify-content: center;
	align-items: center;
	height: 30rem;
	font-size: 2.6rem;
	color: $neutral800;
}

.loading-box {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	z-index: 10000;

	&.hidden {
		display: none;
	}
}
.loading-area {
	position: absolute;
	left: 50%;
	top: 10%;
	transform: translateX(-50%);
}
.loading-circle {
	fill: none;
	stroke: $neutral900;
	opacity: 0.4;
	stroke-width: 10;
	stroke-linecap: round;
	stroke-dasharray: 220;
	transform-origin: center;
	stroke-dashoffset: 150;
	animation: spin 1s linear infinite;
}

.home-section,
.about-section {
	&__footer {
		padding: $spacing-800 var(--inline-spacing) 0;
	}
	&__footer-box {
		text-align: center;
		padding: $spacing-600 $spacing-200;
		background-color: $neutral200;
		border-radius: $radius-16;
	}
	&__footer-btn {
		margin: calc($spacing-200 + 0.1rem) auto 0;
		@include homeBtn;

		display: block;

		&:hover {
			background-color: $neutral800;
		}
		&:focus-visible {
			outline: 2px solid $neutral900;
			outline-offset: 3px;
		}
	}
}
.about-section {
	&__footer {
		padding: 0 var(--inline-spacing);
	}
}

// filter section

.recipes-section {
	&__btn {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 100%;
		padding: $spacing-125 $spacing-200;
		color: $neutral900;
		border-radius: $radius-10;
		border: 1px solid $neutral300;
		background-color: $neutral0;
		font-size: 1.8rem;
		font-weight: $semi-bold;
		gap: $spacing-100;
		cursor: pointer;
		transition: border-color 0.3s;

		&.active {
			transition: none;
			border: 1px solid $neutral300 !important;
			outline: 2px solid $neutral900;
			outline-offset: 2px;
		}
		&:hover {
			border-color: $neutral900;
		}
		&:focus-visible {
			outline: 2px solid $neutral900;
			outline-offset: 2px;
		}
		img {
			pointer-events: none;
		}
	}
	&__select-box {
		position: relative;
	}
	&__select {
		display: none;
		opacity: 0;
		position: absolute;
		bottom: 0;
		transform: translateY(calc(100% + 0.8rem));
		width: 24rem;
		background-color: $neutral0;
		list-style: none;
		padding: $spacing-100;
		border-radius: $radius-8;
		border: 1px solid $neutral300;
		z-index: 100;

		&.active {
			display: block;
			animation: opacity 0.3s forwards;
		}
	}
	&__label,
	.clear {
		display: block;
		padding: $spacing-100;
		font-size: 1.8rem;
		font-weight: $semi-bold;
		border: 2px solid transparent;
		border-radius: $radius-8;
		color: #293241;
		cursor: pointer;
	}
	&__label {
		transition: opacity 0.2s;
		// &:focus,
		&:focus-visible {
			outline: none;
			border-color: $neutral900;
		}
		&:focus .checkbox,
		&:focus-visible .checkbox {
			box-shadow: 0 0 0 4px $neutral200;
		}
		&:hover {
			opacity: 0.9;
		}
		.checkbox {
			display: inline-flex;
			justify-content: center;
			align-items: center;
			margin-inline-end: $spacing-100;
			vertical-align: middle;
			width: 16px;
			height: 16px;
			border: 1px solid $neutral400;
			border-radius: $radius-full;
			transition: opacity 0.3s, box-shadow 0.3s;
			pointer-events: none;

			&::after {
				content: "";
				display: none;
				width: 8px;
				height: 8px;
				background-color: $neutral900;
				border-radius: $radius-full;
			}
			&:hover {
				opacity: 0.8;
			}
		}
	}
	&__search-engine-box {
		position: relative;

		img {
			position: absolute;
			left: 1em;
			top: 50%;
			transform: translateY(-50%);
		}
	}
	&__search-engine {
		display: block;
		margin-block-start: $spacing-150;
		padding: $spacing-125 0 $spacing-125 $spacing-500;
		width: 100%;
		font-size: 1.8rem;
		font-weight: $semi-bold;
		border-radius: $radius-10;
		background-color: $neutral0;
		border: 1px solid $neutral300;
		cursor: pointer;
		color: $neutral900;
		transition: border-color 0.3s;

		&::placeholder {
			opacity: 0.7;
		}
		&:hover {
			border-color: $neutral900;
		}
		&:focus,
		&:focus-visible {
			border: 1px solid $neutral300;
			outline: 2px solid $neutral900;
			outline-offset: 2px;
			transition: none;
		}
	}
}
input[data-prep-time],
input[data-cook-time] {
	display: none;
}
input[data-prep-time]:checked + .recipes-section__label .checkbox {
	border: 2px solid $neutral900;
}
input[data-cook-time]:checked + .recipes-section__label .checkbox {
	border: 2px solid $neutral900;
}
input[data-prep-time]:checked + .recipes-section__label .checkbox::after {
	display: block;
}
input[data-cook-time]:checked + .recipes-section__label .checkbox::after {
	display: block;
}
.max-cook-time-btn {
	margin-block-start: $spacing-150;
}
@media (700px <= width) {
	.recipes-section {
		&__controls {
			display: flex;
			align-items: center;
			gap: $spacing-150;
		}
		&__search-engine,
		.max-cook-time-btn {
			margin: 0;
		}
		&__search-engine {
			text-overflow: ellipsis;
		}
		&__select-box {
			flex-grow: 1;
			max-width: 20rem;
		}
		&__search-engine-box {
			flex-grow: 2;
			max-width: 31rem;
		}
	}
}
@media (768px <= width) {
	.error-visible {
		font-size: 4rem;
	}

	.home-section,
	.about-section {
		&__footer {
			padding: 0 var(--inline-spacing) 0;
		}
		&__footer-box {
			position: relative;
			padding: $spacing-1000 0;
			overflow: hidden;
			z-index: 0;

			.footer-bg {
				display: block;
				width: 25%;
				height: auto;
				position: absolute;
				z-index: -1;

				&--fork {
					left: -5em;
					bottom: -5em;
				}
				&--knife {
					right: -1em;
					top: -5em;
				}
			}
		}
	}
}
@media (800px <= width) {
	.recipes-section {
		&__search-engine-box {
			margin-inline-start: auto;
		}
	}
}
@media (1100px <= width) {
	.home-section,
	.about-section {
		&__footer-box {
			padding: $spacing-1200 0;

			.footer-bg {
				width: min(30%, 32rem);
				&--fork {
					bottom: -1em;
				}
				&--knife {
					top: 5em;
					right: -5em;
				}
			}
		}
	}
}

@keyframes spin {
	from {
		transform: rotate(0);
	}
	to {
		transform: rotate(360deg);
	}
}
